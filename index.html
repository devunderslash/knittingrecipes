<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Knit Socks Rewrite</title>

    <link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>
    <form>
        <fieldset id="gauge-size">
            <legend>Gauge and Size Information</legend>
            <div><label for="gauge">Stitches per inch: </label>
            <input id="gauge" type="text" value="0"></div>

            <div><label for="circ">Circumference of foot in inches: </label>
            <input id="circ" type="text" value="0"></div>

            <div><label for="length">Length of foot in inches: </label>
            <input id="length" type="text" value="0"></div>
        </fieldset>

        <fieldset id="constr-direction">
            <legend>Construction Direction</legend>
            <p>Which direction do you want to knit the socks?</p>
            <div><input type="radio" id="toeup" name="direction" value="toeup">
            <label for="toeup">Toe Up</label></div>

            <div><input type="radio" id="cuffdown" name="direction" value="cuffdown">
            <label for="cuffdown">Cuff Down</label></div>

            <p id="toe-up-short-row" class="hide">Your toe-up sock recipe will include a short-row heel.</p>
        </fieldset>

        <fieldset id="heel-type" class="hide">
            <legend>Heel Type</legend>
            <p>What kind of heel do you want to use?</p>
            <div><input type="radio" id="flap" name="heeltype" value="flap">
            <label for="flap">Heel flap with gusset</label></div>
    
            <div><input type="radio" id="shortrow" name="heeltype" value="shortrow">
            <label for="shortrow">Short row heel</label></div>

        </fieldset>

       <div><input type="submit" value="Generate Pattern!" onclick="showPattern(); return false"></div>

    </form>
    
    <div id="recipe">
        <div id="shared-recipe">
            <p>These instructions are written for the magic loop or two circular needles methods, as they reference the first needle and second needle.  To adapt for dpns, the first needle is dpn one and two and the second needle is dpn three and four.</p>
            <h3>Abbreviations</h3>
                <p class="abbrList">k = knit<br />
                p = purl<br />
                sl = slip (purlwise unless otherwise specified)<br />
                <span class="shortRowAbbr">wyib = with yarn in back<br />
                wyif = with yarn in front<br /></span>
                <span class="flapAbbr">p2tog = purl two together<br />
                ssk = <a href="https://www.lionbrand.com/faq/80.html?language=" target="_blank">slip, slip, knit</a><br /></span>
                <span class="shortRowAbbr">w&amp;t = <a href="http://www.purlsoho.com/create/2008/06/18/short-rows/" target="_blank">wrap and turn</a><br /></span>
                <span class="toeUpAbbr">RLI = <a href="http://www.twistcollective.com/collection/component/content/article/92-how-to/1047-lifted-increase-lli-rli" target="_blank">right-leaning lifted increase</a><br />
                LLI = <a href="http://www.twistcollective.com/collection/component/content/article/92-how-to/1047-lifted-increase-lli-rli" target="_blank">left-leaning lifted increase</a><br /></span>
                RS = right side<br />WS = wrong side<br />
                BOR = beginning of round</p>
                <p class="toeUpAbbr">Feel free to substitute your preferred directional increases for RLI and LLI.  Those are just my favorite increases for toes.</p>
        </div><!---#shared-recipe-->

        <div class="hide" id="cuff-down-recipe">
            <h3>Cuff and Leg</h3>
                <p>Cast on <span class="caston"></span><!--{{saveNeedSts(stsPerIn, circumference, 4)}}--> stitches loosely or with a stretchy cast-on. Join to work in the round, being careful not to twist.</p>
                <p>Round 1: [k2, p2] around<br />
                Repeat round 1 until ribbing measures one inch, or until desired length.</p>
                <p>Knit every row until work measures <span id="leglength"></span>{{legLength(heelType)}} inches, or until desired length.</p>
                <h3>Heel</h3>
                <div class="hide" id="flapInstructions">
                    <h4>Heel Flap</h4>
                    <p>This flap uses a slip-stitch heel stitch.  Feel free to substitute any stitch pattern, as long as the length ends up the same.  One suggestion is the <a href="http://www.haveayarn.ca/stitch/03_2009_stitch_of_the_month.htm" target="_blank">eye of partridge heel stitch</a>.</p>
                    <p>The flap is worked flat over the next <span class="heelsts"></span>{{saveNeedSts(stsPerIn, circumference, 4) / 2}} stitches.</p>
                    <p>Row 1 (RS): [k1, sl1 wyib] repeat to end<br />
                        Row 2 (WS): p to last stich, sl1 wyif
                    </p>
                    <p>Repeat rows 1 and 2 <span id="heelrepeats"></span>{{(saveNeedSts(stsPerIn, circumference, 4) / 8) - 1 | number:0 }} more times, or until flap is length desired, ending after a RS row.</p>

                    <h4>Heel Turn</h4>
                    <p>Row 1 (WS): p<span id="heelturnp"></span>{{(saveNeedSts(stsPerIn, circumference, 4) / 4) + 2}}, p2tog, p1, turn<br />
                    Row 2 (RS): sl1 wyib, k5, ssk, k1, turn<br />
                    Row 3 (WS): sl1 wyif, p to one stitch before gap, p2tog, p1, turn<br />
                    Row 4 (RS): sl1 wyib, k to one stitch before gap, ssk, k1, turn</p>
                    <p>Repeat rows 3 and 4 until all gaps have been closed and all heel stitches have been worked, ending with a RS row.  The last repeats of rows 3 and 4 will not include the final p1 and k1, respectively.</p>

                    <h4>Return to working in the round</h4>
                    <p>Your heel turn has just ended on a RS row. Continue working this RS row in the following manner:
                    <p>
                        Pick up and knit each edge stitch along first side of the heel flap<br />
                        Place marker<br />
                        Knit across the instep (i.e. the stitches you have not been working for the heel)<br />
                        Place marker<br />
                        Pick up and knit each edge stitch along the other side of the heel flap<br />
                        Knit all heel stitches, placing a marker halfway through the heel to mark the beginning of the round, if desired
                    </p>
                    <p>You have now returned all stitches to your needles and are ready to continue working in the round.</p>
                    <h4>Gusset</h4>
                    <p>Row 1: k to 3 sts before marker, k2tog, k1, k across instep (to marker), k1, ssk, k to BOR<br />
                    Row 2: k around</p> 
                    <p>Repeat rows 1 and 2 until the stitch count has returned to <span class="caston"></span>{{saveNeedSts(stsPerIn, circumference, 4)}}.</p>
                    <p>Be sure to stay aware of which half of the stitches is your instep and which half is your sole. You will need this information for the toe.</p>
                </div><!---#flapInstructions-->
                <div class="hide" id="shortRowInstructions">
                    <p>The short row heel is worked flat over the next <span class="heelsts"></span>{{saveNeedSts(stsPerIn, circumference, 4) / 2}} stitches, which is half your total stitches.  References to the first and last stitches in these instructions refer to the first of this half and the last of this half of your stitches, i.e. the heel stitches.</p>

                    <h4>First half of the heel</h4>
                    <p>Row 1 (RS): k across to last stitch, w&amp;t<br />
                       Row 2 (WS): p back to first stitch, w&amp;t<br />
                       Row 3 (RS): k to stitch before wrapped stitch, w&amp;t<br />
                       Row 4 (WS): p to stitch before wrapped stitch, w&amp;t</p>

                    <p>Repeat rows 3 and 4 until <span id="unwrappedsts"></span>{{saveNeedSts(stsPerIn, circumference, 4) / 6 | floorMult:2 | number:0}} stitches are left unwrapped, ending after a WS row.</p>

                    <h4>Second half of the heel</h4>
                    <p>Row 1 (RS): k to first wrapped stitch, k the wrapped stitch while picking up the wrap, turn<br />
                       Row 2 (WS): sl1 wyif, p to first/next wrapped stitch, p the wrapped stitch while picking up the wrap, turn<br />
                       Row 3 (RS): sl1 wyib, k to next wrapped stitch, k the wrapped stitch while picking up the wrap, turn</p>
                    <p>Repeat rows 2 and 3 until all wraps have been picked up, ending with a RS row.  You are now ready to continue in the round to work the rest of the sock.</p>
                    </div>
                    <h3>Foot</h3>
                    <p>Knit every row until work measures <span id="footlength"></span>{{length - 2}} inches.</p>

                    <h3>Toe</h3>
                    <p>Knit to the beginning of the instep stitches, then begin the toe decreases as follows:</p>
                    <p>Row 1, instep/needle 1: k1, ssk, k to last 3 sts of instep, k2tog, k1<br />
                        Row 1, sole/needle 2: k1, ssk, k to last 3 sts of sole, k2tog, k1<br />
                        Row 2: k around</p>
                    <p>Repeat rows 1 and 2 until you have <span id="toests"></span>{{saveNeedSts(stsPerIn, circumference, 4) / 2 | floorMult:4}} stitches remaining.  Then, repeat row 1 twice more.</p>
                    <p>At the end of your decreases, you should have <span class="finaltoests"></span>{{(saveNeedSts(stsPerIn, circumference, 4) / 2) - 8 | floorMult:4}} stitches remaining, <span class="half-finaltoests"></span>{{((saveNeedSts(stsPerIn, circumference, 4) / 2) - 8) / 2 | floorMult:2}} on the instep and <span class="half-finaltoests"></span>{{((saveNeedSts(stsPerIn, circumference, 4) / 2) - 8) / 2 | floorMult:2}} on the sole.</p>
                    <p>Cut the yarn, leaving a tail long enough to graft the toe.  Use the <a href="http://www.knitty.com/ISSUEsummer04/FEATtheresasum04.html" target="_blank">Kitchener stitch</a> to graft the toe closed.</p>

                </div><!---#cuff-down-recipe-->

                <div class="hide" id="toe-up-recipe">
                    <h3>Toe</h3>
                    <p>Using <a href="http://knitty.com/ISSUEspring06/FEATmagiccaston.html" target="_blank">Judy's Magic Cast On</a>, cast on <span class="finaltoests"></span>{{(saveNeedSts(stsPerIn, circumference, 4) / 2) - 8 | floorMult:4}} stitches.</p>
                    <p>Row 1: k1, RLI, k to last stitch of first needle, LLI, k2, RLI, k to last stitch of second needle, LLI, k1<br />
                    Row 2: k around</p>
                    <p>Repeat rows 1 and 2 until you have {{saveNeedSts(stsPerIn, circumference, 4)}} stitches.  <em>For a slightly more rounded toe, try repeating the first row twice before starting to repeat both rows.</em></p>

                    <h3>Foot</h3>
                    <p>Knit every row until work measures {{length - 2}} inches.</p>

                    <h3>Heel</h3>
                    <div class="hide" id="shortRowInstructions">
                        <p>The short row heel is worked flat over the next {{saveNeedSts(stsPerIn, circumference, 4) / 2}} stitches, which is half your total stitches.  References to the first and last stitches in these instructions refer to the first of this half and the last of this half of your stitches, i.e. the heel stitches.</p>

                        <h4>First half of the heel</h4>
                        <p>Row 1 (RS): k across to last stitch, w&amp;t<br />
                        Row 2 (WS): p back to first stitch, w&amp;t<br />
                        Row 3 (RS): k to stitch before wrapped stitch, w&amp;t<br />
                        Row 4 (WS): p to stitch before wrapped stitch, w&amp;t</p>

                        <p>Repeat rows 3 and 4 until {{saveNeedSts(stsPerIn, circumference, 4) / 6 | floorMult:2 | number:0}} stitches are left unwrapped, ending after a WS row.</p>

                        <h4>Second half of the heel</h4>
                        <p>Row 1 (RS): k to first wrapped stitch, k the wrapped stitch while picking up the wrap, turn<br />
                        Row 2 (WS): sl1 wyif, p to first/next wrapped stitch, p the wrapped stitch while picking up the wrap, turn<br />
                        Row 3 (RS): sl1 wyib, k to next wrapped stitch, k the wrapped stitch while picking up the wrap, turn</p>
                        <p>Repeat rows 2 and 3 until all wraps have been picked up, ending with a RS row.  You are now ready to continue in the round to work the rest of the sock.</p>
                    </div>

                    <h3>Leg and Cuff</h3>

                    <p>Knit every row until work measures 7 inches from the top of the heel, or until desired length.</p>

                    <h4>Begin ribbing for the cuff</h4>
                    <p>Round 1: [k2, p2] around<br />
                    Repeat round 1 until ribbing measures one inch, or until desired length.</p>

                    <p>Bind off using a stretchy bind off, such as the <a href="http://www.knitty.com/ISSUEsummer06/FEATsum06TT.html" target="_blank">sewn bind off</a>, my personal favorite.</p>

                </div><!---#toe-up-recipe-->
            </div><!---#recipe-->

    <p><span class="caston"></span></p>

</body>
<script src="scripts.js"></script>
</html>